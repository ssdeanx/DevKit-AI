<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DevKit AI Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          container: {
            center: true,
            padding: "2rem",
            screens: {
              "2xl": "1400px",
            },
          },
          extend: {
            colors: {
              border: "hsl(var(--border))",
              input: "hsl(var(--input))",
              ring: "hsl(var(--ring))",
              background: "hsl(var(--background))",
              foreground: "hsl(var(--foreground))",
              primary: {
                DEFAULT: "hsl(var(--primary))",
                foreground: "hsl(var(--primary-foreground))",
              },
              secondary: {
                DEFAULT: "hsl(var(--secondary))",
                foreground: "hsl(var(--secondary-foreground))",
              },
              destructive: {
                DEFAULT: "hsl(var(--destructive))",
                foreground: "hsl(var(--destructive-foreground))",
              },
              muted: {
                DEFAULT: "hsl(var(--muted))",
                foreground: "hsl(var(--muted-foreground))",
              },
              accent: {
                DEFAULT: "hsl(var(--accent))",
                foreground: "hsl(var(--accent-foreground))",
              },
              popover: {
                DEFAULT: "hsl(var(--popover))",
                foreground: "hsl(var(--popover-foreground))",
              },
              card: {
                DEFAULT: "hsl(var(--card))",
                foreground: "hsl(var(--card-foreground))",
              },
               success: {
                DEFAULT: "hsl(var(--success))",
                foreground: "hsl(var(--success-foreground))",
               },
               dv: {
                 purple: "hsl(var(--dv-purple))",
                 blue: "hsl(var(--dv-blue))",
                 teal: "hsl(var(--dv-teal))",
                 orange: "hsl(var(--dv-orange))",
                 pink: "hsl(var(--dv-pink))",
               }
            },
            borderRadius: {
              lg: "var(--radius)",
              md: "calc(var(--radius) - 2px)",
              sm: "calc(var(--radius) - 4px)",
            },
            keyframes: {
              "accordion-down": {
                from: { height: "0" },
                to: { height: "var(--radix-accordion-content-height)" },
              },
              "accordion-up": {
                from: { height: "var(--radix-accordion-content-height)" },
                to: { height: "0" },
              },
              "blink": {
                "0%, 100%": { opacity: 1 },
                "50%": { opacity: 0 },
              },
              "fade-in": {
                from: { opacity: '0' },
                to: { opacity: '1' },
              },
               "fade-in-scale": {
                from: { opacity: '0', transform: 'scale(0.95)' },
                to: { opacity: '1', transform: 'scale(1)' },
              },
              "slide-up": {
                from: { transform: 'translateY(10px)' },
                to: { transform: 'translateY(0)' },
              },
               "aurora-bg": {
                '0%': { transform: 'translate(var(--aurora-start-x), var(--aurora-start-y)) scale(1)' },
                '50%': { transform: 'translate(var(--aurora-mid-x), var(--aurora-mid-y)) scale(1.2)' },
                '100%': { transform: 'translate(var(--aurora-end-x), var(--aurora-end-y)) scale(1)' },
               },
               "meteor": {
                '0%': { transform: 'translate(50vw, -50vh) rotate(215deg)', opacity: '1' },
                '70%': { opacity: '1' },
                '100%': { transform: 'translate(-50vw, 50vh) rotate(215deg)', opacity: '0' },
               },
               "text-gradient": {
                  to: { backgroundPosition: "200% center" },
               },
               "pulse-dot": {
                '0%, 100%': { transform: 'scale(1)', opacity: '0.5' },
                '50%': { transform: 'scale(1.2)', opacity: '1' },
               },
               "glow": {
                  '0%': { 'box-shadow': '0 0 5px hsl(var(--primary) / 0.2)' },
                  '50%': { 'box-shadow': '0 0 20px hsl(var(--primary) / 0.5)' },
                  '100%': { 'box-shadow': '0 0 5px hsl(var(--primary) / 0.2)' },
               },
                "fill-width": {
                    from: { width: "0%" },
                    to: { width: "100%" }
                },
                "toast-hide": {
                    "0%": { opacity: "1" },
                    "100%": { opacity: "0" },
                },
                "toast-slide-in-right": {
                    "0%": { transform: `translateX(calc(100% + 1rem))` },
                    "100%": { transform: "translateX(0)" },
                },
            },
            animation: {
              "accordion-down": "accordion-down 0.2s ease-out",
              "accordion-up": "accordion-up 0.2s ease-out",
              "blink": "blink 1s step-end infinite",
              "fade-in": "fade-in 0.3s ease-out forwards",
              "slide-up": "slide-up 0.3s ease-out forwards",
              "aurora-bg": "aurora-bg 60s infinite alternate linear",
              "meteor": "meteor 5s linear infinite",
              "text-gradient": "text-gradient 8s linear infinite",
              "pulse-dot": "pulse-dot 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              "fade-in-scale": "fade-in-scale 0.2s ease-out forwards",
              "glow": "glow 4s ease-in-out infinite",
              "fill-width": "fill-width 0.5s ease-in-out forwards",
              "toast-hide": "toast-hide 100ms ease-in forwards",
              "toast-slide-in-right": "toast-slide-in-right 150ms cubic-bezier(0.16, 1, 0.3, 1)",
            },
          },
        },
      }
    </script>
    <style type="text/tailwindcss">
      @layer base {
        :root {
          /* Light Theme: Grayscale Main with Color Accents */
          --background: 0 0% 100%;
          --foreground: 0 0% 10%;
          --card: 0 0% 98%;
          --card-foreground: 0 0% 10%;
          --popover: 0 0% 100%;
          --popover-foreground: 0 0% 10%;
          --primary: 0 0% 10%; /* Black */
          --primary-foreground: 0 0% 98%; /* White */
          --secondary: 0 0% 94%;
          --secondary-foreground: 0 0% 10%;
          --muted: 0 0% 90%;
          --muted-foreground: 0 0% 45%;
          --accent: 0 0% 94%;
          --accent-foreground: 0 0% 10%;
          --border: 0 0% 89%;
          --input: 0 0% 89%;
          --ring: 0 0% 63%; /* Neutral gray for focus rings */
          --radius: 0.75rem;
          
          /* Status & Data Viz Colors (Purposeful Color) */
          --destructive: 0 84% 60%;
          --destructive-foreground: 0 0% 98%;
          --success: 142 76% 36%;
          --success-foreground: 0 0% 98%;
          --dv-purple: 262 83% 58%;
          --dv-blue: 217 91% 60%;
          --dv-teal: 166 76% 36%;
          --dv-orange: 25 95% 53%;
          --dv-pink: 347 95% 53%;
        }
 
        .dark {
          /* Dark Theme: Grayscale Main with Color Accents */
          --background: 240 10% 3.9%; /* Near Black */
          --foreground: 0 0% 98%; /* White */
          --card: 240 5% 8%;
          --card-foreground: 0 0% 98%;
          --popover: 240 10% 3.9%;
          --popover-foreground: 0 0% 98%;
          --primary: 0 0% 98%; /* White */
          --primary-foreground: 0 0% 9%; /* Black */
          --secondary: 240 4% 12%;
          --secondary-foreground: 0 0% 98%;
          --muted: 240 4% 12%;
          --muted-foreground: 0 0% 63%;
          --accent: 240 4% 12%;
          --accent-foreground: 0 0% 98%;
          --border: 240 4% 15%;
          --input: 240 4% 15%;
          --ring: 0 0% 83%; /* Neutral gray for focus rings */

          /* Status & Data Viz Colors (Purposeful Color) */
          --destructive: 0 72% 51%;
          --destructive-foreground: 0 0% 98%;
          --success: 142 70% 40%;
          --success-foreground: 0 0% 9%;
          --dv-purple: 262 83% 68%;
          --dv-blue: 217 91% 70%;
          --dv-teal: 166 76% 46%;
          --dv-orange: 25 95% 63%;
          --dv-pink: 347 95% 63%;
        }
      }
       @layer base {
        * {
          @apply border-border;
        }
        body {
          @apply bg-background text-foreground;
          font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        .background-noise {
          background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800"><filter id="noiseFilter"><feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23noiseFilter)"/></svg>');
          opacity: 0.02;
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
        }
      }
      @layer components {
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: hsl(var(--secondary) / 0.5);
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: hsl(var(--muted-foreground));
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: hsl(var(--foreground));
        }

        .view-header {
            @apply p-6 relative;
        }
        .view-header::after {
            content: '';
            @apply absolute bottom-0 left-0 w-full h-px;
            background: linear-gradient(90deg, transparent 0%, hsl(var(--border)) 50%, transparent 100%);
        }

        .glass-effect {
          @apply bg-card/60 backdrop-blur-xl border border-border/20;
        }
        
        /* New Card Style with Glowing Border */
        .card-glow-border {
            @apply bg-card border border-border/50 rounded-lg relative transition-all duration-300;
        }
        .card-glow-border::before {
            content: '';
            @apply absolute -inset-px rounded-lg pointer-events-none;
            background: radial-gradient(400px at var(--x, 0px) var(--y, 0px), hsl(var(--primary) / 0.1), transparent 80%);
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        .card-glow-border:hover::before {
            opacity: 1;
        }
        
        /* Bento Grid Layout */
        .bento-grid {
            @apply grid grid-cols-4 auto-rows-[120px] gap-4;
        }
        .bento-item {
            @apply relative flex flex-col justify-between p-4 rounded-lg overflow-hidden transition-all duration-300 card-glow-border cursor-pointer;
        }
        .bento-item h3 {
            @apply font-bold text-card-foreground text-base relative z-10;
        }
        .bento-item p {
            @apply text-xs text-muted-foreground relative z-10;
        }
        .bento-item .bento-icon {
            @apply absolute bottom-2 right-2 z-0 text-foreground/5 transition-transform duration-300;
        }
        .bento-item:hover .bento-icon {
            transform: scale(1.2) rotate(-10deg);
        }
        .bento-item:nth-child(1) { @apply col-span-2; }
        .bento-item:nth-child(2) { @apply col-span-2; }
        .bento-item:nth-child(3) { @apply col-span-4; }

        /* Custom Chat Bubbles */
        .chat-bubble {
            @apply p-3 rounded-xl max-w-[80%] relative;
        }
        .chat-bubble-user {
            @apply bg-primary text-primary-foreground rounded-br-none;
        }
        .chat-bubble-ai {
            @apply bg-secondary text-secondary-foreground rounded-bl-none;
        }
        
        .mermaid svg {
            max-width: 100%;
            height: auto;
        }
        
        .toast-viewport {
            @apply fixed top-0 z-[100] flex flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col;
        }
        .toast-root {
            @apply w-full max-w-sm p-4 rounded-lg shadow-lg glass-effect;
        }
        .toast-root[data-variant="destructive"] {
             @apply border-destructive/50 bg-destructive/10;
        }
        .toast-root[data-variant="default"] {
             @apply border-success/50 bg-success/10;
        }
      }
    </style>
    <script type="importmap">
{
  "imports": {
    "react-dom/": "https://esm.sh/react-dom@^19.1.1/",
    "react/": "https://esm.sh/react@^19.1.1/",
    "react": "https://esm.sh/react@^19.1.1",
    "@google/genai": "https://esm.sh/@google/genai@^1.14.0",
    "immer": "https://esm.sh/immer@10.1.1",
    "class-variance-authority": "https://esm.sh/class-variance-authority@0.7.0",
    "clsx": "https://esm.sh/clsx@2.1.1",
    "tailwind-merge": "https://esm.sh/tailwind-merge@2.4.0",
    "potrace": "https://esm.sh/potrace@2.1.8",
    "lodash": "https://esm.sh/lodash@^4.17.21",
    "react-markdown": "https://esm.sh/react-markdown@9.0.1",
    "remark-gfm": "https://esm.sh/remark-gfm@4.0.0",
    "idb-keyval": "https://esm.sh/idb-keyval@6.2.1",
    "uuid": "https://esm.sh/uuid@^11.1.0",
    "framer-motion": "https://esm.sh/framer-motion@^11.3.19",
    "reactflow": "https://esm.sh/reactflow@^11.11.4",
    "elkjs": "https://esm.sh/elkjs@^0.10.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
      // Initialize mermaid with themes and disable auto-start
      mermaid.initialize({ 
          startOnLoad: false, 
          theme: 'dark', // Will be overridden by SettingsContext
      });
    </script>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>